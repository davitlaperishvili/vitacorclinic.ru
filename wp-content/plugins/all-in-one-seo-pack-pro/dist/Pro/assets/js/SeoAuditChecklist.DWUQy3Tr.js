import{r as C,p as R,q as B,f as O,u as T,c as M,e as x}from"./links.BtZm82fD.js";import{C as D}from"./Card.CHgb8IZx.js";import{C as U}from"./Tabs.BdJDuw_m.js";import{C as E}from"./SeoSiteAnalysisResults.DkqlDhHS.js";import{p as G}from"./popup.6pJEdp0g.js";import"./default-i18n.DXRQgkn2.js";import{u as $,S as H}from"./SeoSiteScore.DCVfob0y.js";import{_ as b}from"./_plugin-vue_export-helper.BN1snXvA.js";import{C as j}from"./Blur.CvHKqkVq.js";import{C as w}from"./Index.BaLhZdca.js";import{S as I}from"./Book.Cd0O52yE.js";import{S as N}from"./Lab.BUIDqJR-.js";import{v as o,o as i,c as u,B as n,b as d,a as r,t as c,F as P,J as V,k as S,l,C as k,G as q}from"./runtime-dom.esm-bundler.tPRhSV4q.js";import{C as F}from"./Tooltip.DhkkBQWW.js";import{S as W}from"./Refresh.DRpUll-o.js";import{a as K}from"./index.Dbgw3oZ8.js";import"./helpers.DWk2T5bC.js";import"./Caret.Ke5gylGO.js";import"./Slide.fjAuzpC8.js";import"./TruSeoScore.DmC22Awy.js";import"./Ellipse.BPggUP-m.js";import"./Information.Bv8uKEyF.js";import"./Tags.Q2tosvUR.js";import"./postSlug.Dk5HaUF7.js";import"./metabox.BOneAUwv.js";import"./cleanForSlug.Ck7GHDA6.js";import"./toString.Cp__a8QI.js";import"./_baseTrim.BYZhh0MR.js";import"./_stringToArray.DnK4tKcY.js";import"./deburr.B1yvcqMY.js";import"./_baseSet.kulGDCqw.js";import"./GoogleSearchPreview.2vgm6x5U.js";import"./constants.CPpKID74.js";import"./Gear.DwDaVskn.js";import"./params.B3T1WKlC.js";import"./Index.CuDgGAhK.js";const Y={setup(){const e=$();return{analyzerStore:C(),composableStrings:e.strings,errorObject:e.errorObject}},components:{CoreSiteScore:w,SvgBook:I,SvgDannieLab:N},props:{score:Number,loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:R({yourOverallSiteScore:this.$t.__("Your Overall Site Score",this.$td),goodResult:this.$t.sprintf(this.$t.__("A very good score is between %1$s%3$d and %4$d%2$s.",this.$td),"<strong>","</strong>",50,75),forBestResults:this.$t.sprintf(this.$t.__("For best results, you should strive for %1$s%3$d and above%2$s.",this.$td),"<strong>","</strong>",70),readUltimateSeoGuide:this.$t.__("Read the Ultimate WordPress SEO Guide",this.$td)},this.composableStrings)}}},J={class:"aioseo-seo-analysis"},Q={key:0,class:"seo-analysis-score"},X={key:1,class:"seo-analysis-description"},Z=["innerHTML"],ee=["innerHTML"],te={class:"d-flex"},se=["href"],oe={key:2,class:"seo-analysis-error"},re={class:"error-title"},ne=["innerHTML"],ie={class:"error-action-buttons"};function ae(e,v,h,t,a,_){const m=o("core-site-score"),p=o("svg-book"),g=o("svg-dannie-lab"),y=o("base-button");return i(),u("div",J,[t.analyzerStore.analyzeError?d("",!0):(i(),u("div",Q,[n(m,{loading:h.loading,score:h.score,description:h.description,strokeWidth:1.75},null,8,["loading","score","description"])])),t.analyzerStore.analyzeError?d("",!0):(i(),u("div",X,[r("h2",null,c(a.strings.yourOverallSiteScore),1),r("div",{innerHTML:a.strings.goodResult},null,8,Z),r("div",{innerHTML:a.strings.forBestResults},null,8,ee),r("div",te,[n(p),r("a",{href:e.$links.getDocUrl("ultimateGuide"),target:"_blank"},c(a.strings.readUltimateSeoGuide),9,se)])])),t.analyzerStore.analyzeError&&t.errorObject?(i(),u("div",oe,[n(g),r("p",re,c(a.strings.anErrorOccurred),1),r("p",{class:"error-description",innerHTML:t.errorObject.description},null,8,ne),r("div",ie,[(i(!0),u(P,null,V(t.errorObject.buttons,(s,f)=>(i(),S(y,{key:f,type:s.type,tag:s.tag?s.tag:"button",target:"_blank",href:s.url?s.url:"",size:"medium",loading:(s==null?void 0:s.runAgain)&&t.analyzerStore.analyzing,onClick:A=>s!=null&&s.runAgain?t.analyzerStore.runSiteAnalyzer():""},{default:l(()=>[k(c(s.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):d("",!0)])}const le=b(Y,[["render",ae]]),ce={setup(){const{strings:e}=$();return{analyzerStore:C(),connectStore:B(),licenseStore:O(),optionsStore:T(),rootStore:M(),strings:e}},components:{CoreBlur:j,CoreSiteScoreAnalyze:le},mixins:[H],data(){return{score:0}},watch:{"optionsStore.internalOptions.internal.siteAnalysis.score"(e){this.score=e}},computed:{getSummary(){return{recommended:this.analyzerStore.recommendedCount(),critical:this.analyzerStore.criticalCount(),good:this.analyzerStore.goodCount()}}},methods:{openPopup(e){G(e,this.connectWithAioseo,600,630,!0,["token"],this.completedCallback,this.closedCallback)},completedCallback(e){return this.connectStore.saveConnectToken(e.token)},closedCallback(e){e&&this.analyzerStore.runSiteAnalyzer(),this.analyzerStore.analyzing=!0}},mounted(){!this.optionsStore.internalOptions.internal.siteAnalysis.score&&!this.licenseStore.isUnlicensed&&(this.analyzerStore.analyzing=!0,this.analyzerStore.runSiteAnalyzer()),this.score=this.optionsStore.internalOptions.internal.siteAnalysis.score}},ue={class:"aioseo-seo-site-score"},de={key:1,class:"aioseo-seo-site-score-cta"},_e=["href"];function me(e,v,h,t,a,_){const m=o("core-site-score-analyze"),p=o("core-blur");return i(),u("div",ue,[t.licenseStore.isUnlicensed?(i(),S(p,{key:0},{default:l(()=>[n(m,{score:85,description:e.description},null,8,["description"])]),_:1})):d("",!0),t.licenseStore.isUnlicensed?(i(),u("div",de,[r("a",{href:t.rootStore.aioseo.urls.aio.settings},c(t.strings.enterLicenseKey),9,_e),k(" "+c(t.strings.toSeeYourSiteScore),1)])):d("",!0),t.licenseStore.isUnlicensed?d("",!0):(i(),S(m,{key:2,score:a.score,description:e.description,loading:t.analyzerStore.analyzing,summary:_.getSummary},null,8,["score","description","loading","summary"]))])}const pe=b(ce,[["render",me]]),he={setup(){return{analyzerStore:C(),licenseStore:O(),optionsStore:T(),settingsStore:x()}},components:{CoreCard:D,CoreMainTabs:U,CoreSeoSiteAnalysisResults:E,CoreSeoSiteScoreAnalyze:pe,CoreTooltip:F,SvgCircleQuestionMark:K,SvgRefresh:W},data(){return{internalDebounce:!1,strings:{completeSeoChecklist:this.$t.__("Complete SEO Checklist",this.$td),refreshResults:this.$t.__("Refresh Results",this.$td),cardDescription:this.$t.__("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",this.$td)+" "+this.$links.getDocLink(this.$constants.GLOBAL_STRINGS.learnMore,"seoAnalyzer",!0)}}},computed:{tabs(){const e=this.optionsStore.internalOptions.internal.siteAnalysis;return[{slug:"all-items",label:this.$t.__("All Items",this.$td),analyze:{classColor:"black",count:e.score?this.analyzerStore.allItemsCount():0}},{slug:"critical",label:this.$t.__("Important Issues",this.$td),analyze:{classColor:"red",count:e.score?this.analyzerStore.criticalCount():0}},{slug:"recommended-improvements",label:this.$t.__("Recommended Improvements",this.$td),analyze:{classColor:"blue",count:e.score?this.analyzerStore.recommendedCount():0}},{slug:"good-results",label:this.$t.__("Good Results",this.$td),analyze:{classColor:"green",count:e.score?this.analyzerStore.goodCount():0}}]}},methods:{processChangeTab(e){this.internalDebounce||(this.internalDebounce=!0,this.settingsStore.changeTab({slug:"seoAuditChecklist",value:e}),setTimeout(()=>{this.internalDebounce=!1},50))},refresh(){this.analyzerStore.analyzing=!0,this.analyzerStore.runSiteAnalyzer({refresh:!0})}}},Se={class:"aioseo-seo-audit-checklist"},ge=["innerHTML"],ye={class:"label"};function fe(e,v,h,t,a,_){const m=o("core-seo-site-score-analyze"),p=o("core-card"),g=o("svg-circle-question-mark"),y=o("core-tooltip"),s=o("svg-refresh"),f=o("base-button"),A=o("core-main-tabs"),L=o("core-seo-site-analysis-results");return i(),u("div",Se,[n(p,{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:l(()=>[n(m)]),_:1}),(e.$isPro&&t.licenseStore.licenseKey||t.optionsStore.internalOptions.internal.siteAnalysis.connectToken)&&t.optionsStore.internalOptions.internal.siteAnalysis.score?(i(),S(p,{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:l(()=>[r("span",null,c(a.strings.completeSeoChecklist),1),n(y,null,{tooltip:l(()=>[r("span",{innerHTML:a.strings.cardDescription},null,8,ge)]),default:l(()=>[n(g)]),_:1})]),"header-extra":l(()=>[n(f,{class:"refresh-results",type:"gray",size:"small",onClick:_.refresh,loading:t.analyzerStore.analyzing},{default:l(()=>[n(s),k(" "+c(a.strings.refreshResults),1)]),_:1},8,["onClick","loading"])]),tabs:l(()=>[n(A,{tabs:_.tabs,showSaveButton:!1,active:t.settingsStore.settings.internalTabs.seoAuditChecklist,internal:"",onChanged:_.processChangeTab,"skinny-tabs":""},{"var-tab":l(({tab:z})=>[r("span",{class:q(["round",z.analyze.classColor])},c(z.analyze.count||0),3),r("span",ye,c(z.label),1)]),_:1},8,["tabs","active","onChanged"])]),default:l(()=>[n(L,{section:t.settingsStore.settings.internalTabs.seoAuditChecklist,"all-results":t.analyzerStore.getSiteAnalysisResults,"show-instructions":""},null,8,["section","all-results"])]),_:1})):d("",!0)])}const st=b(he,[["render",fe]]);export{st as default};
