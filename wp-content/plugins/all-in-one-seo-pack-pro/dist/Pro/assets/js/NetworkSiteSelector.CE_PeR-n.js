import{c as l}from"./links.BtZm82fD.js";import{r as i,a as c,g as u}from"./params.B3T1WKlC.js";import{N as m}from"./Network.BxgZODxy.js";import{_ as p}from"./_plugin-vue_export-helper.BN1snXvA.js";import{v as d,o as f,c as _,B as h}from"./runtime-dom.esm-bundler.tPRhSV4q.js";const w={setup(){return{rootStore:l()}},emits:["selected-site"],mixins:[m],props:{followSelectedSite:Boolean,showNetwork:Boolean},data(){return{site:null,network:{value:"network",label:this.$t.__("Network Admin (no site)",this.$td)}}},watch:{site(t){let e=this.rootStore.aioseo.data.network.sites.sites.find(o=>this.getUniqueSiteId(o)===t.value);t.value==="network"&&(e={blog_id:"network"}),this.$emit("selected-site",e),this.followSelectedSite&&this.querySelectedSite()}},computed:{sites(){const t=this.getSites.filter(e=>!e.parentDomain).map(e=>({value:this.getUniqueSiteId(e),label:`${e.domain}${e.path}`}));return this.showNetwork?[this.network].concat(t):t}},methods:{querySelectedSite(){i("aioseo-selected-site-value"),this.site.value!=="network"&&c("aioseo-selected-site-value",this.site.value)}},created(){const t=u();if(t["aioseo-selected-site-value"])return this.site=this.sites.find(e=>e.value===decodeURIComponent(t["aioseo-selected-site-value"])),i("aioseo-selected-site-value"),!1;this.showNetwork&&(this.site=this.network)}},k={class:"aioseo-network-site-selector"};function v(t,e,o,S,s,n){const r=d("base-select");return f(),_("div",k,[h(r,{size:"medium",modelValue:s.site,"onUpdate:modelValue":e[0]||(e[0]=a=>s.site=a),options:n.sites},null,8,["modelValue","options"])])}const b=p(w,[["render",v]]);export{b as C};
